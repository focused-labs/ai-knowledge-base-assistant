<!DOCTYPE html>
<html lang="en"><head>
<meta charset="utf-8"/>
<title>Focused Labs</title>
<link href="https://focusedlabs.io/hubfs/focusedlabs-favicon.png" rel="shortcut icon"/>
<meta content="Our team at Focused Labs is continuously learning ‚Äî and continuously sharing those learnings. Get the latest on our technical blog" name="description"/>
<link href="https://focusedlabs.io/hs-fs/hub/5845897/hub_generated/template_assets/93421951526/1686607647092/FocusedLabs_November_2022/css/templates/_blog.min.css" rel="stylesheet" type="text/css"/>
<script>
      var show = localStorage.getItem('show');
      if(show === 'true'){
        document.documentElement.classList.add('dark');
      } 
    </script>
<script src="/hs/hsstatic/jquery-libs/static-1.4/jquery/jquery-1.11.2.js"></script>
<script>hsjQuery = window['jQuery'];</script>
<meta content="Our team at Focused Labs is continuously learning ‚Äî and continuously sharing those learnings. Get the latest on our technical blog" property="og:description"/>
<meta content="Focused Labs" property="og:title"/>
<meta content="Our team at Focused Labs is continuously learning ‚Äî and continuously sharing those learnings. Get the latest on our technical blog" name="twitter:description"/>
<meta content="Focused Labs" name="twitter:title"/>
<style>
a.cta_button{-moz-box-sizing:content-box !important;-webkit-box-sizing:content-box !important;box-sizing:content-box !important;vertical-align:middle}.hs-breadcrumb-menu{list-style-type:none;margin:0px 0px 0px 0px;padding:0px 0px 0px 0px}.hs-breadcrumb-menu-item{float:left;padding:10px 0px 10px 10px}.hs-breadcrumb-menu-divider:before{content:'‚Ä∫';padding-left:10px}.hs-featured-image-link{border:0}.hs-featured-image{float:right;margin:0 0 20px 20px;max-width:50%}@media (max-width: 568px){.hs-featured-image{float:none;margin:0;width:100%;max-width:100%}}.hs-screen-reader-text{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute !important;width:1px}
</style>
<link href="https://focusedlabs.io/hs-fs/hub/5845897/hub_generated/template_assets/93429468540/1694708451506/FocusedLabs_November_2022/css/main.min.css" rel="stylesheet"/>
<link href="https://focusedlabs.io/hs-fs/hub/5845897/hub_generated/template_assets/93421951529/1690380436362/FocusedLabs_November_2022/css/theme-overrides.min.css" rel="stylesheet"/>
<link href="//fonts.googleapis.com/css2?family=DM+Mono&amp;display=swap" rel="stylesheet"/>
<style>
</style>
<script type="application/ld+json">
{
  "mainEntityOfPage" : {
    "@type" : "WebPage",
    "@id" : "https://focusedlabs.io/blog/provisioning-users-and-groups-for-kubernetes"
  },
  "author" : {
    "name" : "Austin Vance",
    "url" : "https://focusedlabs.io/blog/author/austin-vance",
    "@type" : "Person"
  },
  "headline" : "Focused Labs",
  "datePublished" : "2020-01-01T07:00:00.000Z",
  "dateModified" : "2022-12-07T10:44:34.029Z",
  "publisher" : {
    "name" : "Focused Labs",
    "logo" : {
      "url" : "https://5845897.fs1.hubspotusercontent-na1.net/hubfs/5845897/FL%20Logo%20Mode=Light.png",
      "@type" : "ImageObject"
    },
    "@type" : "Organization"
  },
  "@context" : "https://schema.org",
  "@type" : "BlogPosting",
  "image" : [ "https://5845897.fs1.hubspotusercontent-na1.net/hubfs/5845897/FocusedLabs_November_2022/Images/a36230a82ec792edf98fb4bca62cc0bad03570d9-1000x420.jpg" ]
}
</script>
<!--  Added by GoogleAnalytics4 integration -->
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

if (!window._hsGoogleConsentRunOnce) {
  window._hsGoogleConsentRunOnce = true;

  gtag('consent', 'default', {
    'ad_storage': 'denied',
    'analytics_storage': 'denied'
  });

  var _hsp = window._hsp = window._hsp || [];

  _hsp.push(['addPrivacyConsentListener', function(consent){
    var hasAnalyticsConsent = consent && (consent.allowed || (consent.categories && consent.categories.analytics));
    var hasAdsConsent = consent && (consent.allowed || (consent.categories && consent.categories.advertisement));

    gtag('consent', 'update', {
      'ad_storage': hasAdsConsent ? 'granted' : 'denied',
      'analytics_storage': hasAnalyticsConsent ? 'granted' : 'denied'
    });
  }]);
}

gtag('js', new Date());
gtag('set', 'developer_id.dZTQ1Zm', true);
gtag('config', 'G-3W4SF8W0DX');
</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3W4SF8W0DX"></script>
<!-- /Added by GoogleAnalytics4 integration -->
<!--  Added by GoogleTagManager integration -->
<script>
var _hsp = window._hsp = window._hsp || [];

var hsLoadGtm = function loadGtm() {
    if(window._hsGtmLoadOnce) {
      return;
    }

    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NFKNBDPP');

    window._hsGtmLoadOnce = true;
};

var useGoogleConsentMode = false;

if (!useGoogleConsentMode){
    _hsp.push(['addPrivacyConsentListener', function(consent){
      if(consent.allowed || (consent.categories && consent.categories.analytics)){
        hsLoadGtm();
      }
  }]);
} else{
    if(!window._hsGoogleConsentRunOnce){
      window._hsGoogleConsentRunOnce=true;

      window.dataLayer=window.dataLayer||[];
      function gtag(){dataLayer.push(arguments);}

      gtag('consent','default',{
        'ad_storage':'denied',
        'analytics_storage':'denied'
      });

      gtag('set','developer_id.dZTQ1Zm',true);

      _hsp.push(['addPrivacyConsentListener',function(consent){
      var hasAnalyticsConsent=consent&&(consent.allowed||(consent.categories&&consent.categories.analytics));
      var hasAdsConsent=consent&&(consent.allowed||(consent.categories&&consent.categories.advertisement));

      gtag('consent','update',{
        'ad_storage':hasAdsConsent?'granted':'denied',
        'analytics_storage':hasAnalyticsConsent?'granted':'denied'
      });
    }]);
  }

  hsLoadGtm();
}
</script>
<!-- /Added by GoogleTagManager integration -->
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NFKNBDPP');</script>
<!-- End Google Tag Manager -->
<script type="text/javascript">
window.__lo_site_id = 330223;

	(function() {
		var wa = document.createElement('script'); wa.type = 'text/javascript'; wa.async = true;
		wa.src = 'https://d10lpsik1i8c69.cloudfront.net/w.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(wa, s);
	  })();
	</script>
<link href="https://focusedlabs.io/blog/provisioning-users-and-groups-for-kubernetes?hs_amp=true" rel="amphtml"/>
<meta content="https://focusedlabs.io/hubfs/FocusedLabs_November_2022/Images/a36230a82ec792edf98fb4bca62cc0bad03570d9-1000x420.jpg#keepProtocol" property="og:image"/>
<meta content="1000" property="og:image:width"/>
<meta content="420" property="og:image:height"/>
<meta content="https://focusedlabs.io/hubfs/FocusedLabs_November_2022/Images/a36230a82ec792edf98fb4bca62cc0bad03570d9-1000x420.jpg#keepProtocol" name="twitter:image"/>
<meta content="https://focusedlabs.io/blog/provisioning-users-and-groups-for-kubernetes" property="og:url"/>
<meta content="summary_large_image" name="twitter:card"/>
<link href="https://focusedlabs.io/blog/provisioning-users-and-groups-for-kubernetes" rel="canonical"/>
<meta content="article" property="og:type"/>
<link href="https://focusedlabs.io/blog/rss.xml" rel="alternate" type="application/rss+xml"/>
<meta content="focusedlabs.io" name="twitter:domain"/>
<meta content="@BuildWithFocus" name="twitter:site"/>
<script src="//platform.linkedin.com/in.js" type="text/javascript">
    lang: en_US
</script>
<meta content="en" http-equiv="content-language"/>
<meta content="HubSpot" name="generator"/></head>
<body>
<!--  Added by GoogleTagManager integration -->
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-NFKNBDPP" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<!-- /Added by GoogleTagManager integration -->
<div class="body-wrapper hs-content-id-93620555445 hs-blog-post hs-blog-id-93617369930">
<div data-global-resource-path="FocusedLabs_November_2022/templates/partials/header.html"><header class="header">
<a class="header__skip" href="#main-content">Skip to content</a>
<div class="header_container">
<div class="container">
<div class="header_row">
<div class="header_logo">
<div class="light_image">
<div class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_module widget-type-logo" data-hs-cos-general-type="widget" data-hs-cos-type="module" id="hs_cos_wrapper_light_logo" style="">
<span class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_logo" data-hs-cos-general-type="widget" data-hs-cos-type="logo" id="hs_cos_wrapper_light_logo_hs_logo_widget" style=""><a href="/" id="hs-link-light_logo_hs_logo_widget" style="border-width:0px;border:0px;"><img alt="Focused Labs" class="hs-image-widget" height="377" src="https://focusedlabs.io/hubfs/raw_assets/public/FocusedLabs_November_2022/images/logo.svg" style="height: auto;width:0px;border-width:0px;border:0px;" title="Focused Labs" width="0"/></a></span>
</div>
</div>
<div class="dark_image">
<div class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_module widget-type-logo" data-hs-cos-general-type="widget" data-hs-cos-type="module" id="hs_cos_wrapper_dark_logo" style="">
<span class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_logo" data-hs-cos-general-type="widget" data-hs-cos-type="logo" id="hs_cos_wrapper_dark_logo_hs_logo_widget" style=""><a href="/" id="hs-link-dark_logo_hs_logo_widget" style="border-width:0px;border:0px;"><img alt="Focused Labs" class="hs-image-widget" height="377" src="https://focusedlabs.io/hubfs/raw_assets/public/FocusedLabs_November_2022/images/light_logo.svg" style="height: auto;width:0px;border-width:0px;border:0px;" title="Focused Labs" width="0"/></a></span>
</div>
</div>
<div class="mobile_trigger">
<span aria-hidden="true"></span>
<span aria-hidden="true"></span>
<span aria-hidden="true"></span>
</div>
</div>
<div class="header_menu">
<div class="custom_menu_primary">
<span class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_menu" data-hs-cos-general-type="widget" data-hs-cos-type="menu" id="hs_cos_wrapper_menu" style=""><div aria-label="Navigation Menu" class="hs-menu-wrapper active-branch no-flyouts hs-menu-flow-horizontal" data-menu-id="93449046703" data-sitemap-name="default" id="hs_menu_wrapper_menu" role="navigation">
<ul role="menu">
<li class="hs-menu-item hs-menu-depth-1" role="none"><a href="https://focusedlabs.io/about" role="menuitem">About</a></li>
<li class="hs-menu-item hs-menu-depth-1" role="none"><a href="https://focusedlabs.io/services" role="menuitem">Services</a></li>
<li class="hs-menu-item hs-menu-depth-1" role="none"><a href="https://focusedlabs.io/blog" role="menuitem">Blog</a></li>
<li class="hs-menu-item hs-menu-depth-1" role="none"><a href="https://focusedlabs.io/careers" role="menuitem">Careers</a></li>
<li class="hs-menu-item hs-menu-depth-1" role="none"><a href="https://focusedlabs.io/contact" role="menuitem">Contact</a></li>
</ul>
</div></span>
</div>
</div>
<div class="mb_menu_wrp">
<div class="mb_menu">
</div>
<div class="mode_toggle">
<div class="mod_togl_trigger">
<svg class="mr-2 light_icon" fill="none" height="12" width="12" xmlns="http://www.w3.org/2000/svg"><path d="M6 8.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM6 .5v1M6 10.5v1M2.11 2.11l.71.71M9.18 9.18l.71.71M.5 6h1M10.5 6h1M2.11 9.89l.71-.71M9.18 2.82l.71-.71" stroke="#2B2340" stroke-linecap="round" stroke-linejoin="round" stroke-opacity="0.7"></path></svg>
<svg class="mr-2 dark_icon" fill="none" height="10" width="10" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 5.395A4.5 4.5 0 1 1 4.605.5 3.5 3.5 0 0 0 9.5 5.395Z" stroke="#F4E8FF" stroke-linecap="round" stroke-linejoin="round" stroke-opacity="0.7"></path></svg>
<div class="mode_toggle_inr">
<label id="toggle-header-menu-label">
</label>
</div>
</div>
</div>
</div>
<div class="mb_menu_imge_wrp">
<div class="mb_menu_imge">
<div class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_module widget-type-linked_image" data-hs-cos-general-type="widget" data-hs-cos-type="module" id="hs_cos_wrapper_Menu_bg" style="">
<span class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_linked_image" data-hs-cos-general-type="widget" data-hs-cos-type="linked_image" id="hs_cos_wrapper_Menu_bg_" style=""><img alt="Accent" class="hs-image-widget" src="https://focusedlabs.io/hubfs/raw_assets/public/FocusedLabs_November_2022/images/menu_bg.png" style="width:0px;border-width:0px;border:0px;" title="Accent" width="0"/></span></div>
</div>
</div>
<div class="header_right">
<div class="mode_toggle mob_toggle">
<div class="mod_togl_trigger">
<svg class="mr-2 light_icon" fill="none" height="12" width="12" xmlns="http://www.w3.org/2000/svg"><path d="M6 8.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM6 .5v1M6 10.5v1M2.11 2.11l.71.71M9.18 9.18l.71.71M.5 6h1M10.5 6h1M2.11 9.89l.71-.71M9.18 2.82l.71-.71" stroke="#2B2340" stroke-linecap="round" stroke-linejoin="round" stroke-opacity="0.7"></path></svg>
<svg class="mr-2 dark_icon" fill="none" height="10" width="10" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 5.395A4.5 4.5 0 1 1 4.605.5 3.5 3.5 0 0 0 9.5 5.395Z" stroke="#F4E8FF" stroke-linecap="round" stroke-linejoin="round" stroke-opacity="0.7"></path></svg>
<div class="mode_toggle_inr">
<label id="toggle-header-menu-label">
</label>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</header></div>
<main class="body-container-wrapper" id="main-content">
<div class="body-container body-container--blog-post">
<div class="blog_post_wrapper">
<div class="post_inner">
<div class="post_bnr_wrp">
<div class="post_bnr">
<a href="https://focusedlabs.io/blog">
<svg class="mb_back" fill="none" height="40" viewbox="0 0 40 40" width="40" xmlns="http://www.w3.org/2000/svg"><path d="M31.6668 20H8.3335" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"></path><path d="M20.0002 31.6668L8.3335 20.0002L20.0002 8.3335" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"></path></svg>
<p>
                Blog
              </p>
</a>
<div class="post_bnr_icon">
<a href="https://focusedlabs.io/blog">
<svg fill="none" height="40" viewbox="0 0 40 40" width="40" xmlns="http://www.w3.org/2000/svg">
<path d="M31.6668 20H8.3335" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"></path>
<path d="M20.0002 31.6668L8.3335 20.0002L20.0002 8.3335" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="3"></path>
</svg>
</a>
<div class="post_bnr_title">
<h1><span class="hs_cos_wrapper hs_cos_wrapper_meta_field hs_cos_wrapper_type_text" data-hs-cos-general-type="meta_field" data-hs-cos-type="text" id="hs_cos_wrapper_name" style="">Provisioning Users and Groups for Kubernetes</span></h1>
</div>
</div>
<div class="hs_date_t2">
              01.01.2020 |
              
              
              Security
              
              Kubernetes
              
              Devops
              
              Tutorial
              
               | <a href="https://focusedlabs.io/blog/author/austin-vance">
  Austin Vance
</a>
</div>
</div>
</div>
<div class="post_featured_image">
<img alt="Provisioning Users and Groups for Kubernetes" src="https://focusedlabs.io/hubfs/FocusedLabs_November_2022/Images/a36230a82ec792edf98fb4bca62cc0bad03570d9-1000x420.jpg"/>
</div>
<div class="blog_post_content">
<div class="blog_post_body">
<span class="hs_cos_wrapper hs_cos_wrapper_meta_field hs_cos_wrapper_type_rich_text" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text" id="hs_cos_wrapper_post_body" style=""><p>At Focused Labs, we are fans of certificate-based auth. With certificates, you get all the nice safety of never sending a password over the wire, an easy way to revoke access, and more security than even with a generated password.</p>
<!--more-->
<p>Now, you may want to use certificates to authenticate users or external services like CI with your Kubernetes cluster. You're in luck. There are many articles that look like they could help. You have probably found<span>¬†</span><a href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/">this</a>, and seen<span>¬†</span><a href="https://kubernetes.io/docs/reference/access-authn-authz/authentication/">this</a>, and<span>¬†</span><a href="https://kubernetes.io/docs/reference/access-authn-authz/authorization/">this</a>, and maybe even<span>¬†</span><a href="https://kubernetes.io/docs/concepts/cluster-administration/certificates/">this</a>. But, after reading all that you were probably still left scratching your head. The following guide should help.</p>
<h2>Our Goals</h2>
<ul>
<li>Secure certificate provisioning</li>
<li>Automatic CSR signing</li>
</ul>
<p>By the end of this blog post you should be able to set up secure certificate authentication for users of your k8s Cluster.</p>
<h2>Prerequisites</h2>
<ul>
<li>You have a running cluster</li>
<li>You have a basic working knowledge of the k8s API</li>
<li>You have<span>¬†</span><code>kubectl</code><span>¬†</span>installed and are using a<span>¬†</span><code>cluster admin</code><span>¬†</span>context</li>
</ul>
<h3>Step One</h3>
<h4>Have the User Generate the CSR and Private Key</h4>
<p>We believe very strongly in infrastructure as code. If it can be committed, it should be. So, our preference is using the tool<span>¬†</span><a href="https://github.com/cloudflare/cfssl"><code>cfssl</code></a><span>¬†</span>because you can create a JSON config that's committable and shareable.</p>
<p>Let's configure<span>¬†</span><code>cfssl</code><span>¬†</span>and use<span>¬†</span><code>envsubst</code><span>¬†</span>to generate our private key and CSR.</p>
<pre><code style="white-space: pre;"><span>{
</span><span>  </span><span style="color: #d69d85;">"CN"</span><span>: </span><span style="color: #d69d85;">"$USERNAME"</span><span>,
</span><span>  </span><span style="color: #d69d85;">"names"</span><span>: [
</span>      {
<span>          </span><span style="color: #d69d85;">"O"</span><span>: </span><span style="color: #d69d85;">"$GROUP"</span><span>
</span>      }
<!-- -->  ],
<span>  </span><span style="color: #d69d85;">"key"</span><span>: {
</span><span>    </span><span style="color: #d69d85;">"algo"</span><span>: </span><span style="color: #d69d85;">"ecdsa"</span><span>,
</span><span>    </span><span style="color: #d69d85;">"size"</span><span>: </span><span style="color: #b8d7a3;">256</span><span>
</span>  }
<!-- -->}</code></pre>
<p>Your Common Name matters and so does your Organization.</p>
<blockquote><img alt="icon" src="https://focusedlabs.io/hubfs/FocusedLabs_November_2022/Images/download.png"/>
<h1>"Kubernetes uses the Common Name to match the certificate with the username in the <code>RoleBinding</code> and uses the Organization to match the group in the <code>RoleBinding</code>."</h1>
</blockquote>
<p>This is hidden in their documentation<span>¬†</span><a href="https://kubernetes.io/docs/reference/access-authn-authz/authentication/#x509-client-certs">here</a><span>¬†</span>if you're curious.</p>
<p>An operator can share this file with a new user and have them run</p>
<pre><code style="white-space: pre;"><span style="color: #569cd6;">export</span><span> USERNAME=**ENTER USERNAME**
</span><span></span><span style="color: #569cd6;">export</span><span> GROUP=**ENTER GROUP**
</span>envsubst &lt; ../private_key_template.json | cfssl genkey -  | cfssljson -bare client</code></pre>
<p>This will generate two files <code>client-key.pem</code> and <code>client.csr</code>.</p>
<p>That key file is secret - the user shouldn't share that with anyone.</p>
<h3>Step Two</h3>
<h4>Sign the CSR and Generate a Cert for Auth</h4>
<p>Have the new user send you the CSR, username, and group they used. Now, you can use Kubernetes to sign the CSR and get a client certificate for authentication.</p>
<p>With the <code>client.csr</code> create a <code>CertificateSigningRequest</code></p>
<pre><code style="white-space: pre;"><span style="color: #569cd6;">export</span><span> USERNAME=**username*
</span>cat &lt;&lt;EOF | kubectl apply -f -
<!-- -->apiVersion: certificates.k8s.io/v1beta1
<span></span><span style="color: #9cdcfe;">kind</span><span>: CertificateSigningRequest
</span><span></span><span style="color: #9cdcfe;">metadata</span><span>:
</span>  name: $USERNAME
<span></span><span style="color: #9cdcfe;">spec</span><span>:
</span>  username: $USERNAME
<span>  </span><span style="color: #9cdcfe;">groups</span><span>:
</span>  - system:authenticated
<span>  </span><span style="color: #9cdcfe;">request</span><span>: $(cat client.csr | base64 | tr -d </span><span style="color: #d69d85;">'\n'</span><span>)
</span><span>  </span><span style="color: #9cdcfe;">usages</span><span>:
</span>  - digital signature
<!-- -->  - key encipherment
<!-- -->  - client auth
<!-- -->EOF</code></pre>
<p>You can see the newly created CSR with <code>kubectl get certificatesigningrequests</code></p>
<p>Now, approve the CSR and download a client certificate.</p>
<pre><code style="white-space: pre;"><span>kubectl certificate approve $USERNAME
</span>kubectl get csr $USERNAME -o jsonpath={.status.certificate} | base64 --decode &gt; client.pem</code></pre>
<p>You can send the new <code>client.pem</code> back to the new user.</p>
<h3>Step Three</h3>
<h4>Create a<span>¬†</span><code>Role</code><span>¬†</span>and<span>¬†</span><code>RoleBinding</code><span>¬†</span>for the new user.</h4>
<p>There is tons of documentation on this so we will keep the explanation brief. You will want to give rights to the newly authenticated user.</p>
<p>To do this, we create a<span>¬†</span><code>Role</code><span>¬†</span>that allows full access to a namespace with their username and a<span>¬†</span><code>RoleBinding</code><span>¬†</span>that gives this user access.<a href="/blog/provisioning-users-and-groups-for-kubernetes#1"><sup>1</sup></a></p>
<pre><code style="white-space: pre;"><span>kubectl create namespace $USERNAME
</span>
<!-- -->cat &lt;&lt;EOF | kubectl apply -f -
<!-- -->apiVersion: rbac.authorization.k8s.io/v1
<span></span><span style="color: #9cdcfe;">kind</span><span>: Role
</span><span></span><span style="color: #9cdcfe;">metadata</span><span>:
</span><span>  namespace: </span><span style="color: #569cd6;">default</span><span>
</span><span>  </span><span style="color: #9cdcfe;">name</span><span>: $USERNAME-namespace
</span><span></span><span style="color: #9cdcfe;">rules</span><span>:
</span><span>- apiGroups: [</span><span style="color: #d69d85;">""</span><span>]
</span><span>  </span><span style="color: #9cdcfe;">resources</span><span>: [</span><span style="color: #d69d85;">"*"</span><span>]
</span><span>  </span><span style="color: #9cdcfe;">verbs</span><span>: [</span><span style="color: #d69d85;">"*"</span><span>]
</span>EOF
<!-- -->
<!-- -->cat &lt;&lt;EOF | kubectl apply -f -
<!-- -->apiVersion: rbac.authorization.k8s.io/v1
<span></span><span style="color: #9cdcfe;">kind</span><span>: RoleBinding
</span><span></span><span style="color: #9cdcfe;">metadata</span><span>:
</span>  name: access-$USERNAME-namespace
<span>  </span><span style="color: #9cdcfe;">namespace</span><span>: $USERNAME
</span><span></span><span style="color: #9cdcfe;">subjects</span><span>:
</span>- kind: User
<span>  </span><span style="color: #9cdcfe;">name</span><span>: $USERNAME
</span><span>  </span><span style="color: #9cdcfe;">apiGroup</span><span>: rbac.authorization.k8s.io
</span><span></span><span style="color: #9cdcfe;">roleRef</span><span>:
</span>  kind: Role
<span>  </span><span style="color: #9cdcfe;">name</span><span>: $USERNAME-namespace
</span><span>  </span><span style="color: #9cdcfe;">apiGroup</span><span>: rbac.authorization.k8s.io
</span>EOF</code></pre>
<h3>Step Four</h3>
<h4>Set up kubectl config to access the cluster</h4>
<p>Now that the user can authenticate and has authorizations in the cluster, they need to set up their<span>¬†</span><code>kubectl</code>.</p>
<p>You (the operator) can send the new user</p>
<ul>
<li><code>client.pem</code></li>
<li><code>ca.pem</code><span>¬†</span>You'll need to get this from your cluster. It will be different depending on how you deployed Kubernetes.</li>
<li><code>api endpoint</code><span>¬†</span>This is the api for your cluster.</li>
</ul>
<p>After the user receives everything from you they can use<span>¬†</span><code>kubectl</code><span>¬†</span>to modify their<span>¬†</span><code>~/.kube/config</code></p>
<pre><code style="white-space: pre;"><span>kubectl config set-cluster internal --server=https:</span><span style="color: #57a64a; font-style: italic;">//$API_ENDPOINT --certificate-authority=ca.pem --embed-certs=true</span><span>
</span><span>kubectl config set-credentials internal --client-certificate=client.pem --client-key=client-key.pem --embed-certs=</span><span style="color: #569cd6;">true</span><span>
</span>kubectl config set-context prod --cluster=production --namespace=$USERNAME --user=$USERNAME</code></pre>
<p>Finally, the user can use this new context</p>
<pre><code style="white-space: pre;"><span>kubectl config use-context prod</span></code></pre>
<p>They are all set.</p>
<h3>Follow-ups</h3>
<p>You can probably see that there is a ton of opportunity for automation. Most of the above can be done via a single script. And it's probably smart to create a CI or pipeline that automates and allows auditing of your cluster's access.</p>
<p>Expect part two to go in depth on the automation.</p>
<span id="1">1: For production, we would recommend a more automated approach to what namespaces/access each user should have</span></span>
</div>
</div>
<div class="post_share">
<div class="post_share_title">
<p>Share</p>
</div>
<div class="post_share_icons">
<div class="post_share_links">
<a href="http://www.facebook.com/share.php?u=https://focusedlabs.io/blog/provisioning-users-and-groups-for-kubernetes" onclick="window.open('http://www.facebook.com/share.php?u=https://focusedlabs.io/blog/provisioning-users-and-groups-for-kubernetes', 'newwindow', 'width=530,height=600,toolbar=no,directories=no,status=no,menubar=no,scrollbars=yes,copyhistory=no,resizable=yes'); return false;" target="_self">
<svg fill="none" height="16" viewbox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg">
<path d="M14.6652 0.491943H1.32043C0.863495 0.492218 0.493073 0.862824 0.493164 1.31995V14.6647C0.493439 15.1216 0.864044 15.492 1.32117 15.4919H8.50586V9.69116H6.55762V7.42065H8.50586V5.74973C8.50586 3.81201 9.68881 2.75732 11.4173 2.75732C12.2452 2.75732 12.9567 2.81903 13.1641 2.84659V4.87183H11.9721C11.0317 4.87183 10.8496 5.3187 10.8496 5.97458V7.42065H13.0981L12.8052 9.69116H10.8496V15.4919H14.6652C15.1224 15.492 15.4931 15.1215 15.4932 14.6643C15.4932 14.6642 15.4932 14.6641 15.4932 14.6639V1.31921C15.493 0.862274 15.1223 0.491852 14.6652 0.491943Z" fill="#2B2340" fill-opacity="0.8"></path>
</svg>
</a>
<a href="javascript:;" onclick="window.open('https://twitter.com/intent/tweet?url=https://focusedlabs.io/blog/provisioning-users-and-groups-for-kubernetes&amp;text=Provisioning Users and Groups for Kubernetes','newwindow', 'width=530,height=600,toolbar=no,directories=no,status=no,menubar=no,scrollbars=yes,copyhistory=no,resizable=yes'); return false;" target="_self" title="twitter">
<svg height="16" viewbox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0)">
<path class='text-text text-opacity-80 "fill-current"' d="M15.5278 3.1399C15.4489 3.16295 15.37 3.1844 15.2911 3.20438C14.809 3.32613 14.7646 3.16548 15.1137 2.81104C15.2701 2.65221 15.4082 2.47946 15.5282 2.29288C15.797 1.87449 15.5638 1.69203 15.1063 1.88747C14.9432 1.95719 14.7773 2.0204 14.6091 2.07676C14.1377 2.23505 13.4688 1.99627 13.0488 1.72988C12.5186 1.39362 11.916 1.22559 11.2408 1.22559C10.295 1.22559 9.48891 1.55913 8.82196 2.2257C8.15522 2.89261 7.82167 3.69896 7.82167 4.64448C7.82167 4.77379 7.82906 4.90508 7.84366 5.03818C7.86761 5.25484 7.50272 5.4119 7.01032 5.34236C5.94517 5.19198 4.93317 4.86923 3.97412 4.37447C3.02298 3.88386 2.18352 3.26648 1.45589 2.52228C1.10807 2.1666 0.637649 2.19724 0.507779 2.67737C0.429969 2.96518 0.39127 3.26451 0.39127 3.57539C0.39127 4.16126 0.52885 4.70464 0.804069 5.20551C0.940943 5.45478 1.10124 5.68044 1.28532 5.88235C1.59494 6.22222 1.54756 6.41943 1.11657 6.29859C0.685765 6.17776 0.370052 5.99836 0.370052 6.01007C0.370052 6.02178 0.370052 6.03132 0.370052 6.03132C0.370052 6.85674 0.629232 7.58201 1.14792 8.20643C1.46742 8.59113 1.83861 8.8883 2.26133 9.0976C2.70709 9.3184 2.91474 9.44156 2.66547 9.47382C2.51509 9.49327 2.3638 9.50298 2.21162 9.50298C2.10862 9.50298 2.00056 9.4983 1.88782 9.48877C1.70951 9.47364 1.67746 9.84518 1.94779 10.2627C2.16265 10.5944 2.43766 10.8864 2.77268 11.1385C3.11344 11.3952 3.48068 11.5794 3.87382 11.6916C4.35219 11.828 4.44819 12.0764 4.02167 12.3321C2.96627 12.9654 1.79829 13.282 0.517932 13.282C0.373672 13.282 0.236063 13.2787 0.104604 13.2724C-0.123588 13.2615 0.0295014 13.4624 0.470022 13.6931C1.84656 14.4141 3.33728 14.7743 4.94238 14.7743C6.15594 14.7743 7.29563 14.5822 8.36131 14.1976C9.42661 13.8131 10.337 13.2978 11.092 12.6521C11.847 12.0065 12.4981 11.2639 13.0451 10.424C13.5919 9.58423 13.9993 8.70746 14.2677 7.79381C14.5356 6.87996 14.6698 5.96431 14.6698 5.04686C14.6698 4.9642 14.6691 4.88998 14.6679 4.82462C14.6653 4.70178 14.9902 4.36929 15.353 4.0291C15.5167 3.87548 15.6728 3.71427 15.822 3.54517C16.151 3.17178 16.0053 3.00068 15.5278 3.1399Z"></path>
</g>
<defs>
<clippath id="clip0">
<rect height="16" width="16"></rect>
</clippath>
</defs>
</svg>
</a>
<a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://focusedlabs.io/blog/provisioning-users-and-groups-for-kubernetes" onclick="window.open('http://www.linkedin.com/shareArticle?mini=true&amp;url=https://focusedlabs.io/blog/provisioning-users-and-groups-for-kubernetes', 'newwindow', 'width=530,height=600,toolbar=no,directories=no,status=no,menubar=no,scrollbars=yes,copyhistory=no,resizable=yes'); return false;" target="_self"><svg fill="none" height="16" viewbox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0)"><path class='text-text text-opacity-80 "fill-current"' d="M15.9968 15.9995V15.9988H16.0008V10.1308C16.0008 7.26016 15.3828 5.04883 12.0268 5.04883C10.4135 5.04883 9.33082 5.93416 8.88882 6.77349H8.84216V5.31683H5.66016V15.9988H8.97349V10.7095C8.97349 9.31683 9.23749 7.97016 10.9622 7.97016C12.6615 7.97016 12.6868 9.55949 12.6868 10.7988V15.9995H15.9968Z"></path><path class='text-text text-opacity-80 "fill-current"' d="M0.264648 5.31738H3.58198V15.9994H0.264648V5.31738Z"></path><path class='text-text text-opacity-80 "fill-current"' d="M1.92133 0C0.860667 0 0 0.860667 0 1.92133C0 2.982 0.860667 3.86067 1.92133 3.86067C2.982 3.86067 3.84267 2.982 3.84267 1.92133C3.842 0.860667 2.98133 0 1.92133 0V0Z"></path></g><defs><clippath id="clip0"><rect fill="white" height="16" width="16"></rect></clippath></defs></svg></a>
</div>
</div>
</div>
</div>
</div>
<div class="cm_rp_wrp">
<div class="cm_rp_inner">
<div class="cm_rp_header">
<div class="cm_rp_title">
<p>Read More</p>
</div>
<div class="cm_rp_subtitle">
<h2>Related Posts</h2>
</div>
</div>
<div class="cm_rp_list">
<a href="https://focusedlabs.io/blog/editing-kubernetes-secrets-inline">
<div class="cm_rec__t2_image">
<div class="cm_rec_t2__img">
<div class="cm_rec_t2__img_inner">
<img alt="Editing Kubernetes Secrets Inline" src="https://focusedlabs.io/hubfs/FocusedLabs_November_2022/Images/0b950b93520d52ddd1ccbb463a4862fd0f99f96a-1000x420.png"/>
</div>
</div>
</div>
<div class="cm_rec_content_t2">
<div class="hs_date_t2">07.12.2020
                
                
                | Devops
                
                | Tutorial
                
                 | Austin Vance
              </div>
<div class="hs_rec_sml_title">
<h3>
                  Editing Kubernetes Secrets Inline
                </h3>
</div>
</div>
</a>
<a href="https://focusedlabs.io/blog/never-forget-to-remember-with-husky-githooks">
<div class="cm_rec__t2_image">
<div class="cm_rec_t2__img">
<div class="cm_rec_t2__img_inner">
<img alt="Never Forget To Remember with Husky + Githooks" src="https://focusedlabs.io/hubfs/Imported%20sitepage%20images/69.jpg"/>
</div>
</div>
</div>
<div class="cm_rec_content_t2">
<div class="hs_date_t2">03.07.2023
                 | Michael Steichen
              </div>
<div class="hs_rec_sml_title">
<h3>
                  Never Forget To Remember with Husky + Githooks
                </h3>
</div>
</div>
</a>
<a href="https://focusedlabs.io/blog/i-built-a-rube-goldburg-machine-to-monitor-my-smoker">
<div class="cm_rec__t2_image">
<div class="cm_rec_t2__img">
<div class="cm_rec_t2__img_inner">
<img alt="I Built a Rube Goldburg Machine to Monitor My Smoker using k8s, Prometheus, and Grafana üçñüçñüçñüçñ" src="https://focusedlabs.io/hubfs/FocusedLabs_November_2022/Images/ffefbc17a1b0802fb4d6823462c7cf796d85cd4f-1000x420.jpg"/>
</div>
</div>
</div>
<div class="cm_rec_content_t2">
<div class="hs_date_t2">01.05.2020
                
                
                | Devops
                
                 | Austin Vance
              </div>
<div class="hs_rec_sml_title">
<h3>
                  I Built a Rube Goldburg Machine to Monitor My Smoker using k8s, Prometheus, and Grafana üçñüçñüçñüçñ
                </h3>
</div>
</div>
</a>
<a href="https://focusedlabs.io/blog/deploying-concourse-with-concourse-up">
<div class="cm_rec__t2_image">
<div class="cm_rec_t2__img">
<div class="cm_rec_t2__img_inner">
<img alt="Deploying Concourse with concourse-up" src="https://focusedlabs.io/hubfs/FocusedLabs_November_2022/Images/13645f56d7652a00a3f22ba999c63e183450fcd2-1440x300.gif"/>
</div>
</div>
</div>
<div class="cm_rec_content_t2">
<div class="hs_date_t2">01.01.2020
                
                
                | Devops
                
                | Backend
                
                | Testing
                
                 | Austin Vance
              </div>
<div class="hs_rec_sml_title">
<h3>
                  Deploying Concourse with concourse-up
                </h3>
</div>
</div>
</a>
<a href="https://focusedlabs.io/blog/sentry-with-spring-boot-the-better-way">
<div class="cm_rec__t2_image">
<div class="cm_rec_t2__img">
<div class="cm_rec_t2__img_inner">
<img alt="Sentry with Spring Boot (The Better Way)" src="https://focusedlabs.io/hubfs/FocusedLabs_November_2022/Images/9ba3b6ee24561f7bfdf47638162787e28928c758-1000x420.png"/>
</div>
</div>
</div>
<div class="cm_rec_content_t2">
<div class="hs_date_t2">08.24.2020
                
                
                | Devops
                
                | Tutorial
                
                | Backend
                
                 | James McMahon
              </div>
<div class="hs_rec_sml_title">
<h3>
                  Sentry with Spring Boot (The Better Way)
                </h3>
</div>
</div>
</a>
<a href="https://focusedlabs.io/blog/blog-golf-smallest-post-wins">
<div class="cm_rec__t2_image">
<div class="cm_rec_t2__img">
<div class="cm_rec_t2__img_inner">
<img alt="Blog Golf: Smallest Post Wins" src="https://focusedlabs.io/hubfs/FocusedLabs_November_2022/Images/e8530eac50f974a6ce7c3b0f82db6cb23a24e779-3500x2292.jpg"/>
</div>
</div>
</div>
<div class="cm_rec_content_t2">
<div class="hs_date_t2">01.15.2021
                
                
                | Culture
                
                 | Austin Vance
              </div>
<div class="hs_rec_sml_title">
<h3>
                  Blog Golf: Smallest Post Wins
                </h3>
</div>
</div>
</a>
<a href="https://focusedlabs.io/blog/tdd-first-step-think">
<div class="cm_rec__t2_image">
<div class="cm_rec_t2__img">
<div class="cm_rec_t2__img_inner">
<img alt="TDD: First Step is THINK" src="https://focusedlabs.io/hubfs/FocusedLabs_November_2022/Images/eb0aeb32defbaf68e7d735a5e6c18cbd6919fb1f-880x495.jpg"/>
</div>
</div>
</div>
<div class="cm_rec_content_t2">
<div class="hs_date_t2">11.02.2022
                
                
                | Testing
                
                 | Dave Schinkel
              </div>
<div class="hs_rec_sml_title">
<h3>
                  TDD: First Step is THINK
                </h3>
</div>
</div>
</a>
</div>
</div>
</div>
</div>
</main>
<div data-global-resource-path="FocusedLabs_November_2022/templates/partials/footer.html"><footer class="footer">
<div class="ft_img_left_wrp">
<div class="ft_img_left_inner">
<div class="ft_img_left">
<div class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_module widget-type-linked_image" data-hs-cos-general-type="widget" data-hs-cos-type="module" id="hs_cos_wrapper_left_image" style="">
<span class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_linked_image" data-hs-cos-general-type="widget" data-hs-cos-type="linked_image" id="hs_cos_wrapper_left_image_" style=""><img alt="accent" class="hs-image-widget" src="https://focusedlabs.io/hubfs/raw_assets/public/FocusedLabs_November_2022/images/footer_left_bg.png" style="width:0px;border-width:0px;border:0px;" title="accent" width="0"/></span></div>
</div>
</div>
</div>
<div class="ft_img_top">
<div class="ft_img_top_inner">
<div class="ft_img_top_img">
<div class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_module widget-type-linked_image" data-hs-cos-general-type="widget" data-hs-cos-type="module" id="hs_cos_wrapper_top_image" style="">
<span class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_linked_image" data-hs-cos-general-type="widget" data-hs-cos-type="linked_image" id="hs_cos_wrapper_top_image_" style=""><img alt="accent" class="hs-image-widget" src="https://focusedlabs.io/hubfs/raw_assets/public/FocusedLabs_November_2022/images/mobile_animated_imge.png" style="width:0px;border-width:0px;border:0px;" title="accent" width="0"/></span></div>
</div>
</div>
</div>
<div class="dnd-section">
<div class="hs_footer">
<div class="hs_ft_inner">
<div class="hs_ft_col">
<div class="hs_ft_logo">
<div class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_module widget-type-logo" data-hs-cos-general-type="widget" data-hs-cos-type="module" id="hs_cos_wrapper_logo" style="">
<span class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_logo" data-hs-cos-general-type="widget" data-hs-cos-type="logo" id="hs_cos_wrapper_logo_hs_logo_widget" style=""><a href="/" id="hs-link-logo_hs_logo_widget" style="border-width:0px;border:0px;"><img alt="FocusedLabs" class="hs-image-widget" height="377" src="https://focusedlabs.io/hubfs/raw_assets/public/FocusedLabs_November_2022/images/footer_logo.svg" style="height: auto;width:0px;border-width:0px;border:0px;" title="FocusedLabs" width="0"/></a></span>
</div>
</div>
<div class="footer_info">
<div class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_module widget-type-rich_text" data-hs-cos-general-type="widget" data-hs-cos-type="module" id="hs_cos_wrapper_information" style=""><span class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_rich_text" data-hs-cos-general-type="widget" data-hs-cos-type="rich_text" id="hs_cos_wrapper_information_" style=""><p>433 W Van Buren St<br \=""/>
Suite 1100-B<br \=""/>
Chicago, IL 60607<br \=""/>
<a href="tel:+17083038088">(708) 303-8088</a>
</p></span></div>
</div>
<div class="footer_info_link">
<a href="mailto:work@focusedlabs.io">work@focusedlabs.io</a>
</div>
</div>
<div class="hs_ft_col ft_2">
<span class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_menu" data-hs-cos-general-type="widget" data-hs-cos-type="menu" id="hs_cos_wrapper_menu_1" style=""><div aria-label="Navigation Menu" class="hs-menu-wrapper active-branch no-flyouts hs-menu-flow-horizontal" data-menu-id="93462616833" data-sitemap-name="default" id="hs_menu_wrapper_menu_1" role="navigation">
<ul role="menu">
<li class="hs-menu-item hs-menu-depth-1 hs-item-has-children" role="none"><a aria-expanded="false" aria-haspopup="true" href="javascript:;" role="menuitem">COMPANY</a>
<ul class="hs-menu-children-wrapper" role="menu">
<li class="hs-menu-item hs-menu-depth-2" role="none"><a href="https://focusedlabs.io" role="menuitem">Home</a></li>
<li class="hs-menu-item hs-menu-depth-2" role="none"><a href="https://focusedlabs.io/about" role="menuitem">About</a></li>
<li class="hs-menu-item hs-menu-depth-2" role="none"><a href="https://focusedlabs.io/services" role="menuitem">Services</a></li>
<li class="hs-menu-item hs-menu-depth-2" role="none"><a href="https://focusedlabs.io/contact" role="menuitem">Contact Us</a></li>
<li class="hs-menu-item hs-menu-depth-2" role="none"><a href="https://focusedlabs.io/privacy-policy" role="menuitem">Privacy Policy</a></li>
</ul></li>
</ul>
</div></span>
</div>
<div class="hs_ft_col ft_3">
<span class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_menu" data-hs-cos-general-type="widget" data-hs-cos-type="menu" id="hs_cos_wrapper_menu_2" style=""><div aria-label="Navigation Menu" class="hs-menu-wrapper active-branch no-flyouts hs-menu-flow-horizontal" data-menu-id="93463743912" data-sitemap-name="default" id="hs_menu_wrapper_menu_2" role="navigation">
<ul role="menu">
<li class="hs-menu-item hs-menu-depth-1 hs-item-has-children" role="none"><a aria-expanded="false" aria-haspopup="true" href="javascript:;" role="menuitem">EXPLORE</a>
<ul class="hs-menu-children-wrapper" role="menu">
<li class="hs-menu-item hs-menu-depth-2" role="none"><a href="https://focusedlabs.io/case-studies" role="menuitem">Case Studies</a></li>
<li class="hs-menu-item hs-menu-depth-2" role="none"><a href="https://focusedlabs.io/blog" role="menuitem">Blog</a></li>
<li class="hs-menu-item hs-menu-depth-2" role="none"><a href="https://focusedlabs.io/careers" role="menuitem">Careers</a></li>
</ul></li>
</ul>
</div></span>
</div>
<div class="fooer_sp"></div>
</div>
</div>
<div class="hs_bt_footer">
<div class="ft_copyright">
<div class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_module widget-type-rich_text" data-hs-cos-general-type="widget" data-hs-cos-type="module" id="hs_cos_wrapper_copyright" style=""><span class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_rich_text" data-hs-cos-general-type="widget" data-hs-cos-type="rich_text" id="hs_cos_wrapper_copyright_" style=""><p>¬© 2023 Focused Labs, All Rights Reserved.</p></span></div>
</div>
<div class="ft_social">
<div class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_module" data-hs-cos-general-type="widget" data-hs-cos-type="module" id="hs_cos_wrapper_footer_icons" style=""><ul class="ft_icons">
<li>
<a href="https://www.facebook.com/withfocus">
<img alt="facebook" loading="lazy" src="https://focusedlabs.io/hubfs/FocusedLabs_November_2022/Images/facebook.svg"/>
</a>
</li>
<li>
<a href="https://twitter.com/BuildWithFocus">
<img alt="twitter" loading="lazy" src="https://focusedlabs.io/hubfs/FocusedLabs_November_2022/Images/twitter.svg"/>
</a>
</li>
<li>
<a href="https://www.linkedin.com/company/build-focused-labs/">
<img alt="linkedin" loading="lazy" src="https://focusedlabs.io/hubfs/FocusedLabs_November_2022/Images/linkedin.svg"/>
</a>
</li>
<li>
<a href="https://github.com/focused-labs">
<img alt="github" loading="lazy" src="https://focusedlabs.io/hubfs/FocusedLabs_November_2022/Images/github.svg"/>
</a>
</li>
</ul></div>
</div>
</div>
</div>
<div class="ft_img_right_wrp">
<div class="ft_img_right_inner">
<div class="ft_img_right">
<div class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_module widget-type-linked_image" data-hs-cos-general-type="widget" data-hs-cos-type="module" id="hs_cos_wrapper_right_image" style="">
<span class="hs_cos_wrapper hs_cos_wrapper_widget hs_cos_wrapper_type_linked_image" data-hs-cos-general-type="widget" data-hs-cos-type="linked_image" id="hs_cos_wrapper_right_image_" style=""><img alt="accent" class="hs-image-widget" src="https://focusedlabs.io/hubfs/raw_assets/public/FocusedLabs_November_2022/images/footer_right_bg.png" style="width:0px;border-width:0px;border:0px;" title="accent" width="0"/></span></div>
</div>
</div>
</div>
</footer>
<div class="back_to_top">
<span class="back_top">
<svg class="block group-hover:scale-125 transform transition-transform" fill="none" height="24" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="m17 11-5-5-5 5M17 18l-5-5-5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
</svg>
</span>
</div></div>
</div>
<!-- HubSpot performance collection script -->
<script defer="" src="https://static.hsappstatic.net/content-cwv-embed/static-1.388/embed.js"></script>
<script src="https://focusedlabs.io/hs-fs/hub/5845897/hub_generated/template_assets/93429719598/1681240383335/FocusedLabs_November_2022/js/main.min.js"></script>
<script>
var hsVars = hsVars || {}; hsVars['language'] = 'en';
</script>
<script src="/hs/hsstatic/cos-i18n/static-1.53/bundles/project.js"></script>
<!-- Start of HubSpot Analytics Code -->
<script type="text/javascript">
var _hsq = _hsq || [];
_hsq.push(["setContentType", "blog-post"]);
_hsq.push(["setCanonicalUrl", "https:\/\/focusedlabs.io\/blog\/provisioning-users-and-groups-for-kubernetes"]);
_hsq.push(["setPageId", "93620555445"]);
_hsq.push(["setContentMetadata", {
    "contentPageId": 93620555445,
    "legacyPageId": "93620555445",
    "contentFolderId": null,
    "contentGroupId": 93617369930,
    "abTestId": null,
    "languageVariantId": 93620555445,
    "languageCode": "en",
    
}]);
</script>
<script async="" defer="" id="hs-script-loader" src="/hs/scriptloader/5845897.js" type="text/javascript"></script>
<!-- End of HubSpot Analytics Code -->
<script type="text/javascript">
var hsVars = {
    render_id: "78b2037b-de69-4a70-8960-2f5eaf3787a3",
    ticks: 1700477558750,
    page_id: 93620555445,
    
    content_group_id: 93617369930,
    portal_id: 5845897,
    app_hs_base_url: "https://app.hubspot.com",
    cp_hs_base_url: "https://cp.hubspot.com",
    language: "en",
    analytics_page_type: "blog-post",
    analytics_page_id: "93620555445",
    category_id: 3,
    folder_id: 0,
    is_hubspot_user: false
}
</script>
<script defer="" src="/hs/hsstatic/HubspotToolsMenu/static-1.191/js/index.js"></script>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-NFKNBDPP" style="display:none;visibility:hidden" width="0"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1&status=0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</body></html>